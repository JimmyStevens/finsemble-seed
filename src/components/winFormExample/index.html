<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>spawnWinformExample</title>
  </head>

  <body>
    <h1>Test</h1>
    <p>
      <button id="spawnWinformNative">Spawn Winform Native</button>
      <button id="spawnWpfNative">Spawn WPF Native</button>
    </p>
    <p>
      <input id="value" value="test1" />
      <button id="publish">publish</button>
    </p>
  </body>

  <script>
    if (window.FSBL && FSBL.addEventListener) {
      FSBL.addEventListener("onReady", FSBLReady);
    } else {
      window.addEventListener("FSBLReady", FSBLReady);
    }

    function FSBLReady() {
      document.querySelector("#spawnWinformNative").addEventListener("click", spawnWinformNative);
      document.querySelector("#spawnWpfNative").addEventListener("click", spawnWpfNative);
      document.querySelector("#publish").addEventListener("click", publish);
      FSBL.Clients.RouterClient.addPubSubResponder(
        "Finsemble.TestWPFPubSubSymbol",
        {
          State: "start"
        },
        {}
      ); 
    }

    function spawnWpfNative() {
      FSBL.Clients.LauncherClient.spawn(
        "WPF Example Native",
        {
          left: "adjacent",
          data: "test1234",
          addToWorkspace: true
        },
        function(err, response) {
          if (!err) {}
        }
      );
    }

    function spawnWinformNative() {
      FSBL.Clients.LauncherClient.spawn(
        "Winform Example Native",
        {
          left: "adjacent",
          data: "test1234",
          addToWorkspace: true
        },
        function(err, response) {
          if (!err) {}
        }
      );
    }

    function publish() {
      FSBL.Clients.RouterClient.publish("Finsemble.TestWPFPubSubSymbol", {
        symbol: document.getElementById("value").value
      });
    }
  </script>
</html>
